<!DOCTYPE html>
<html  dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title></title>
        <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
        <link rel="apple-touch-icon-precomposed" href="images/apple-touch-icon.png">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.26.4/css/uikit.gradient.css">

        <link rel="stylesheet" href="style.css">
        <link href="https://vjs.zencdn.net/5.4.4/video-js.css" rel="stylesheet" />
        <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
        <script src="uikit.js"></script>
        <script src="scripts.js"></script>
        <script src="jquery.sticky-kit.js"></script>

        <meta name="generator" content="pandoc-uikit" />
                        <title>doc</title>
        <style type="text/css">code{white-space: pre;}</style>
                        <style type="text/css">
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
        </style>
                                               
    </head>

    <body>


        <div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">

            
            <div class="uk-grid" data-uk-grid-margin >          
                <div class="uk-width-medium-1-4">
                    <div class="uk-overflow-container" data-uk-sticky="{top:25,media: 768}">
                        <div class="uk-panel uk-panel-box menu-begin" >

                            
                        </div>
                    </div>
                </div>

                <div class="uk-width-medium-3-4">
<h1 id="latchexam">LatchExam</h1>
<h2 id="notification-before-use">Notification before use</h2>
<p>Depending on the type of product you are using, the definitions of ‘Parameter’, ‘IO Logic’, ‘AxisStatus’, etc. may be different. This example is based on ‘Ezi-SERVO’, so please apply the appropriate value depending on the product you are using.</p>
<pre><code>Example)

FM_EZISERVO_PARAM           // Parameter enum when using &#39;Ezi-SERVO&#39;    
FM_EZIMOTIONLINK_PARAM      // Parameter enum when using &#39;Ezi-MOTIONLINK&#39;</code></pre>
<h2 id="program-scenario">0. Program scenario</h2>
<p>[EN]<br />
1. Connect a device. 2. Read Input/Latch status for 60 seconds, Read Latch Count of Pin 0. 3. Clear Latch status of Pin 0. 4. Read Input/Latch status. 5. Read total Latch Count. 6. Clear Latch Count of Pin 0. 5. Close connection.</p>
<p>[KR]<br />
1. 장치 연결. 2. 60초간 Input / Latch 상태 읽기, 0번 Pin의 Latch Count 읽기. 3. 0번 Pin의 Latch 상태 초기화. 4. Input / Latch 상태 읽기. 5. 전체 Latch Count 읽기. 6. 0번 Pin의 Latch Count 초기화. 7. 연결 해제.</p>
<h2 id="read-latch-count">1. Read latch Count</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="dt">unsigned</span> <span class="dt">int</span> uInput = <span class="dv">0</span>;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="dt">unsigned</span> <span class="dt">int</span> uLatch = <span class="dv">0</span>;</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="dt">unsigned</span> <span class="dt">char</span> cInputNo = <span class="dv">0</span>; <span class="co">// Pin 0</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="dt">unsigned</span> <span class="dt">int</span> nLatchCount = <span class="dv">0</span>;</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="co">// Monitor the specific pin input result value.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a><span class="cf">do</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a>{</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a>    <span class="co">// Latch status</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a>    <span class="cf">if</span> (FAS_GetInput(nPortID, iSlaveNo, &amp;uInput, &amp;uLatch) != FMM_OK)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a>    {</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a>        printf(<span class="st">&quot;Function(FAS_GetInput) was failed.</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a>        <span class="cf">return</span> <span class="kw">false</span>;</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a>    }</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a>    <span class="co">// Latch count</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a>    <span class="cf">if</span> (FAS_GetLatchCount(nPortID, iSlaveNo, cInputNo, &amp;nLatchCount) != FMM_OK)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a>    {</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a>        printf(<span class="st">&quot;Function(FAS_GetLatchCount) was failed.</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a>        <span class="cf">return</span> <span class="kw">false</span>;</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a>    }</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a>    printf(<span class="st">&quot;Pin </span><span class="sc">%d</span><span class="st"> is </span><span class="sc">%s</span><span class="st"> and </span><span class="sc">%s</span><span class="st"> (latch count </span><span class="sc">%d</span><span class="st">) </span><span class="sc">\n</span><span class="st">&quot;</span>, cInputNo, ((uInput &amp; (<span class="bn">0x01</span> &lt;&lt; cInputNo)) ? <span class="st">&quot;ON&quot;</span> : <span class="st">&quot;OFF&quot;</span>), ((uLatch &amp; (<span class="bn">0x01</span> &lt;&lt; cInputNo)) ? <span class="st">&quot;latched&quot;</span> : <span class="st">&quot;not latched&quot;</span>), nLatchCount);</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true"></a>} <span class="cf">while</span> (WaitSeconds(<span class="dv">60</span>));</span></code></pre></div>
<p>[EN]<br />
You can read the Latch Count of a specific pin using the FAS_GetLatchCount() function. The above source code repeats ‘Read Input / Latch Status’ and ‘Read Latch Count’ for 60 seconds.</p>
<p>[KR]<br />
FAS_GetLatchCount() 함수를 사용하여 특정 핀의 Latch Count를 읽을 수 있습니다. 위 소스 코드는 60초간 ’Input / Latch 상태 읽기’와 ’Latch Count 읽기’를 반복합니다.</p>
<h3 id="read-inputlatch-status">1.1 Read Input/Latch status</h3>
<p>[EN]<br />
You can read information about the Input bit and Latch using the FAS_GetInput() function. For more information, please refer to the [15.GetInputExam] project document.</p>
<p>[KR]<br />
FAS_GetInput() 함수를 사용하여 Input bit와 Latch에 대한 정보를 읽을 수 있습니다. 자세한 내용은 [15.GetInputExam] 프로젝트 문서를 참고하시기 바랍니다.</p>
<h2 id="clear-latch">2. Clear latch</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="co">// Clear the specific pin&#39;s Latch status</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>uLatchMask = (<span class="bn">0x01</span> &lt;&lt; cInputNo);</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="cf">if</span> (FAS_ClearLatch(nPortID, iSlaveNo, uLatchMask) != FMM_OK)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>{</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a>    printf(<span class="st">&quot;Function(FAS_ClearLatch) was failed.</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a>    <span class="cf">return</span> <span class="kw">false</span>;</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a>}</span></code></pre></div>
<p>[EN]<br />
You can clear the latch state using the FAS_ClearLatch() function.</p>
<p>[KR]<br />
FAS_ClearLatch() 함수를 사용하여 Latch 상태를 초기화 할 수 있습니다.</p>
<h3 id="send-data-logic">2.1 Send data logic</h3>
<p>[EN]<br />
The request for Latch state 0 is sequentially written to the LSB of uLatchMask (32 bits) and the request for Latch state 31 is sequentially written to the MSB. If the value of each bit is 0, the current state is maintained, and if it is 1, the Latch is cleared.</p>
<p>[KR]<br />
uLatchMask(32bit)의 LSB에 0번 Latch 상태에 대한 요청부터 MSB에 31번 Latch 상태에 대한 요청이 순차적으로 쓰여집니다. 각 bit의 값이 0인 경우 현재 상태 유지, 1인 경우 Latch를 Clear합니다.</p>
<h2 id="read-latch-count-all-16-input">3. Read latch count all (16 Input)</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="dt">unsigned</span> <span class="dt">int</span> cntLatchAll[<span class="dv">16</span>] = { <span class="dv">0</span> };</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="co">// Get latch counts of all inputs (16 inputs)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="cf">if</span> (FAS_GetLatchCountAll(nPortID, iSlaveNo, cntLatchAll) != FMM_OK)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>{</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>    printf(<span class="st">&quot;Function(FAS_GetLatchCountAll) was failed.</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>    <span class="cf">return</span> <span class="kw">false</span>;</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>}</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a><span class="cf">else</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>{</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; <span class="dv">16</span>; i++)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>    {</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a>        printf(<span class="st">&quot;[FAS_GetLatchCountAll]  Pin[</span><span class="sc">%d</span><span class="st">] : [</span><span class="sc">%d</span><span class="st">]count </span><span class="sc">\n</span><span class="st">&quot;</span>, i, cntLatchAll[i]);</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a>    }</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a>}</span></code></pre></div>
<p>[EN]<br />
Use the FAS_GetLatchCountAll() function to read the total Latch Count for 16 Inputs. For a request for 32 Inputs, use FAS_GetLatchCountAll32().</p>
<p>[KR]<br />
FAS_GetLatchCountAll() 함수를 사용하여 16 Input에 대해 전체 Latch Count를 읽습니다. 32 Input에 대한 요청은 FAS_GetLatchCountAll32()를 사용합니다.</p>
<h2 id="clear-latch-count">4. Clear latch count</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="dt">unsigned</span> <span class="dt">int</span> uLatchMask;</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>uLatchMask = (<span class="bn">0x01</span> &lt;&lt; cInputNo);</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="co">// Clear the latch count of the specific pin</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="cf">if</span> (FAS_ClearLatchCount(nPortID, iSlaveNo, uLatchMask) != FMM_OK)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>{</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>    printf(<span class="st">&quot;Function(FAS_ClearLatchCount) was failed.</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a>    <span class="cf">return</span> <span class="kw">false</span>;</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a>}</span></code></pre></div>
<p>[EN]<br />
Initialize the Latch Count of a specific bit using the FAS_ClearLatchCount() function.</p>
<p>[KR]<br />
FAS_ClearLatchCount() 함수를 통하여 특정 bit의 Latch Count를 초기화 합니다.</p>
<h2 id="etc">5. Etc</h2>
<p>[EN]<br />
1. Please refer to the [01.ConnectionExam] project document for function descriptions on connecting and disconnecting devices.</p>
<p>[KR]<br />
1. 장치 연결 및 해제에 대한 함수 설명은 [01.ConnectionExam] 프로젝트 문서를 참고하시기 바랍니다.</p>                    
                </div>
            </div>

            <script src="https://vjs.zencdn.net/5.4.4/video.js"></script>
        </div>
    </body>
</html>
